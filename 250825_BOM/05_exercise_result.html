<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>BOM 통합 실습</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.6; height: 200vh; /* 스크롤 생성을 위한 높이 */ }
        .container { max-width: 700px; margin: auto; }
        .section { margin-bottom: 30px; padding: 15px; border: 1px solid skyblue; border-radius: 5px; }
        h1, h2 { margin-top: 0; }
        input[type="text"] { padding: 8px; }
        button { padding: 8px 12px; margin: 2px; cursor: pointer; }
        #storage-result, #copy-text { background-color: lightyellow; padding: 10px; }
        #top-btn { position: fixed; bottom: 20px; right: 20px; padding: 10px 15px; background-color: cornflowerblue; color: white; border: none; border-radius: 50%; cursor: pointer; display: none; /* 기본 숨김 */ }
        #top-btn.visible { display: block; /* 보이기 */ }
    </style>
</head>
<body>

    <div class="container">
        <h1>BOM 통합 실습</h1>

        <div class="section">
            <h2>1. Web Storage</h2>
            <input type="text" id="storage-key" placeholder="Key">
            <input type="text" id="storage-value" placeholder="Value">
            <button id="local-save-btn">Local 저장</button>
            <button id="local-read-btn">Local 읽기</button>
            <p id="storage-result">결과 표시</p>
        </div>

        <div class="section">
            <h2>2. Location & History</h2>
            <button id="move-btn">페이지 이동</button>
            <button id="back-btn">뒤로 가기</button>
        </div>

        <div class="section">
            <h2>3. Navigator Clipboard API</h2>
            <p id="copy-text">이 텍스트를 복사합니다.</p>
            <button id="copy-btn">텍스트 복사</button>
        </div>
    </div>

    <button id="top-btn">TOP</button>

    <script>
        // 1. Web Storage
        const keyInput = document.getElementById('storage-key');
        const valueInput = document.getElementById('storage-value');
        document.getElementById('local-save-btn').addEventListener('click', () => {
            if (keyInput.value && valueInput.value) localStorage.setItem(keyInput.value, valueInput.value);
        });
        document.getElementById('local-read-btn').addEventListener('click', () => {
            const val = localStorage.getItem(keyInput.value);
            document.getElementById('storage-result').textContent = val || '값이 없습니다.';
        });

        // 2. Location & History
        document.getElementById('move-btn').addEventListener('click', () => location.href = 'https://www.google.com');
        document.getElementById('back-btn').addEventListener('click', () => history.back());

        // 3. Clipboard API
        document.getElementById('copy-btn').addEventListener('click', () => {
            const text = document.getElementById('copy-text').textContent;
            navigator.clipboard.writeText(text).then(() => alert('복사 완료!'));
        });

        // 4. Scroll Event & Top Button
        const topBtn = document.getElementById('top-btn');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 200) {
                topBtn.classList.add('visible');
            } else {
                topBtn.classList.remove('visible');
            }
        });
        topBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>