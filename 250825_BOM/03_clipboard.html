<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Clipboard API 상세 실습</title>
    <style>
        body { font-family: sans-serif; line-height: 1.8; padding: 25px; background-color: #f8f9fa; }
        .container { max-width: 800px; margin: auto; border: 1px solid lightgray; padding: 20px; border-radius: 10px; background-color: white; }
        h1, h2 { border-bottom: 2px solid #6c757d; padding-bottom: 10px; }
        .section { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
        textarea { width: 98%; min-height: 80px; padding: 10px; font-size: 16px; margin-bottom: 10px; }
        button { padding: 10px 20px; margin-right: 10px; cursor: pointer; border-radius: 5px; border: 1px solid gray; font-size: 16px; }
        #paste-area { background-color: #e9ecef; }
        .note { color: crimson; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Clipboard API 상세 실습</h1>
        <p class="note">⚠️ 보안상의 이유로, 이 기능은 HTTPS 또는 localhost 환경에서만 동작합니다.</p>

        <div class="section">
            <h2>텍스트 복사하기 (Write to Clipboard)</h2>
            <textarea id="copy-source" placeholder="여기에 복사할 내용을 입력하세요...">자바스크립트는 재미있습니다!</textarea>
            <button id="copy-btn">복사</button>
        </div>

        <div class="section">
            <h2>텍스트 붙여넣기 (Read from Clipboard)</h2>
            <button id="paste-btn">붙여넣기</button>
            <textarea id="paste-area" readonly placeholder="붙여넣기 버튼을 누르면 클립보드의 내용이 여기에 표시됩니다."></textarea>
        </div>
    </div>

    <script>
    /*
    ==================================================================================
    ## 1. 개념 설명: Clipboard API (`navigator.clipboard`)란?
    ==================================================================================
    Clipboard API는 웹 페이지가 사용자의 **시스템 클립보드(복사 & 붙여넣기 공간)에 접근**할 수 있도록 하는 최신 표준 기술입니다.
    과거에 사용되던 `document.execCommand()` 방식보다 훨씬 강력하고 안전하게 설계되었습니다.
    🔐 **보안을 최우선으로 하는 설계**:
    클립보드에는 비밀번호나 개인정보 등 민감한 데이터가 포함될 수 있기 때문에, Clipboard API는 엄격한 보안 규칙을 따릅니다.
    1.  **비동기(Asynchronous) & Promise 기반**:
        - 클립보드 작업은 브라우저의 응답을 기다리지 않고 즉시 다음 코드로 넘어가는 '비동기' 방식으로 처리됩니다.
        - 작업의 성공 또는 실패 여부는 'Promise' 객체를 통해 전달됩니다.
          - `.then()`: 작업이 성공했을 때 실행할 코드를 정의합니다.
          - `.catch()`: 작업이 실패했을 때(예: 사용자가 권한 거부) 실행할 코드를 정의합니다.
    2.  **사용자 권한 필요**:
        - 특히 클립보드에서 데이터를 읽어오는 '붙여넣기' 기능은 브라우저가 사용자에게 명시적으로 권한을 요청합니다.
        - 이는 악의적인 웹사이트가 사용자도 모르게 클립보드 내용을 훔쳐보는 것을 방지하기 위함입니다.
    3.  **보안 컨텍스트(Secure Context) 필요**:
        - 대부분의 최신 브라우저는 **HTTPS 프로토콜을 사용하는 안전한 웹사이트** 또는 개발 환경인 **localhost**에서만 Clipboard API의 사용을 허용합니다.
    4.  **사용자 행동 필요**:
        - API는 반드시 'click', 'keydown' 등 사용자의 직접적인 행동에 의해 시작된 이벤트 핸들러 내에서만 호출되어야 합니다. 페이지가 로드되자마자 자동으로 클립보드를 조작하는 것은 불가능합니다.
    */

    /*
    ==================================================================================
    ## 2. 주요 기능 (메서드) 설명
    ==================================================================================
    `navigator.clipboard` 객체는 주로 텍스트를 다루는 두 가지 핵심 메서드를 제공합니다.
    1.  **`writeText(text)` - 클립보드에 쓰기**
        - **설명**: 인자로 전달된 텍스트(`text`)를 클립보드에 복사합니다.
        - **반환값**: Promise. 작업이 성공적으로 완료되면 이행(resolve)되고, 실패하면 거부(reject)됩니다.
        - **예시**:
          navigator.clipboard.writeText('저장할 텍스트')
            .then(() => console.log('복사 성공!'))
            .catch(err => console.error('복사 실패:', err));
    2.  **`readText()` - 클립보드에서 읽기**
        - **설명**: 클립보드에 현재 저장되어 있는 텍스트를 읽어옵니다.
        - **반환값**: Promise. 작업이 성공하면 클립보드의 텍스트를 담아 이행(resolve)되고, 실패하면 거부(reject)됩니다.
        - **예시**:
          navigator.clipboard.readText()
            .then(text => console.log('붙여넣은 텍스트:', text))
            .catch(err => console.error('붙여넣기 실패:', err));
    */

    /*
    ==================================================================================
    ## 3. 실제 실습 (Interactive Example)
    ==================================================================================
    */

    // --- 1. 실습에 필요한 HTML 요소들을 미리 찾아 변수에 할당합니다. ---
    // 🧑‍💻 여기에 코드를 작성하세요.


    // --- 2. '복사' 버튼에 클릭 이벤트 리스너를 연결합니다. ---
    // 🧑‍💻 여기에 코드를 작성하세요.


    // --- 3. '붙여넣기' 버튼에 클릭 이벤트 리스너를 연결합니다. ---
    // 🧑‍💻 여기에 코드를 작성하세요.

    </script>
</body>
</html>